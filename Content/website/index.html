<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports2D Documentation</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Language Toggle -->
    <div class="lang-toggle">
        <button onclick="setLanguage('en')" id="lang-en" class="active">EN</button>
        <button onclick="setLanguage('fr')" id="lang-fr">FR</button>
    </div>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="logo">
            <h2>Sports2D</h2>
            <p class="lang-en">Documentation</p>
            <p class="lang-fr" style="display:none;">Documentation</p>
        </div>
        <nav class="nav-menu">
            <a href="#step-0" onclick="goToStep(0)" class="nav-item active">
                <span class="step-num">00</span>
                <span class="lang-en">Introduction</span>
                <span class="lang-fr" style="display:none;">Introduction</span>
            </a>
            <a href="#step-1" onclick="goToStep(1)" class="nav-item">
                <span class="step-num">01</span>
                <span class="lang-en">Installation</span>
                <span class="lang-fr" style="display:none;">Installation</span>
            </a>
            <a href="#step-2" onclick="goToStep(2)" class="nav-item">
                <span class="step-num">02</span>
                <span class="lang-en">Run Demo</span>
                <span class="lang-fr" style="display:none;">Ex√©cuter D√©mo</span>
            </a>
            <a href="#step-3" onclick="goToStep(3)" class="nav-item">
                <span class="step-num">03</span>
                <span class="lang-en">Custom Video</span>
                <span class="lang-fr" style="display:none;">Vid√©o Personnalis√©e</span>
            </a>
            <a href="#step-4" onclick="goToStep(4)" class="nav-item">
                <span class="step-num">04</span>
                <span class="lang-en">Select Persons</span>
                <span class="lang-fr" style="display:none;">S√©lectionner Personnes</span>
            </a>
            <a href="#step-5" onclick="goToStep(5)" class="nav-item">
                <span class="step-num">05</span>
                <span class="lang-en">Convert to Meters</span>
                <span class="lang-fr" style="display:none;">Convertir en M√®tres</span>
            </a>
            <a href="#step-6" onclick="goToStep(6)" class="nav-item">
                <span class="step-num">06</span>
                <span class="lang-en">Inverse Kinematics</span>
                <span class="lang-fr" style="display:none;">Cin√©matique Inverse</span>
            </a>
            <a href="#step-7" onclick="goToStep(7)" class="nav-item">
                <span class="step-num">07</span>
                <span class="lang-en">Configuration File</span>
                <span class="lang-fr" style="display:none;">Fichier Config</span>
            </a>
            <a href="#step-8" onclick="goToStep(8)" class="nav-item">
                <span class="step-num">08</span>
                <span class="lang-en">All Parameters</span>
                <span class="lang-fr" style="display:none;">Tous Param√®tres</span>
            </a>
            <a href="#step-9" onclick="goToStep(9)" class="nav-item">
                <span class="step-num">09</span>
                <span class="lang-en">Optimization</span>
                <span class="lang-fr" style="display:none;">Optimisation</span>
            </a>
            <a href="#step-10" onclick="goToStep(10)" class="nav-item">
                <span class="step-num">10</span>
                <span class="lang-en">Angle Conventions</span>
                <span class="lang-fr" style="display:none;">Conventions Angles</span>
            </a>
        </nav>
        <button class="view-all-btn" onclick="toggleViewAll()">
            <span class="lang-en">View All Steps</span>
            <span class="lang-fr" style="display:none;">Voir Toutes √âtapes</span>
        </button>
    </aside>

    <!-- Main Content -->
    <main class="content">
        <div class="step-container">
            
            <!-- Step 0: Introduction -->
            <section class="step active" id="step-0" data-step="0">
                <div class="step-header">
                    <span class="step-badge">Step 0</span>
                    <h1 class="lang-en">Welcome to Sports2D</h1>
                    <h1 class="lang-fr" style="display:none;">Bienvenue √† Sports2D</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Sports2D automatically computes 2D joint positions, as well as joint and segment angles from a video or a webcam.</p>
                        
                        <!-- Demo Video -->
                        <div class="video-container">
                            <video controls poster="https://raw.githubusercontent.com/davidpagnon/Sports2D/main/Content/Demo_results.png">
                                <source src="https://github.com/user-attachments/assets/6a444474-4df1-4134-af0c-e9746fa433ad" type="video/mp4">
                                Your browser doesn't support video playback.
                            </video>
                        </div>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">üéØ</div>
                                <h3>Accurate Detection</h3>
                                <p>RTMPose technology for reliable joint tracking</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">üìê</div>
                                <h3>Angle Computation</h3>
                                <p>Automatic joint and segment angle calculation</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">üìè</div>
                                <h3>Real Measurements</h3>
                                <p>Convert pixels to meters for accurate analysis</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">ü§∏</div>
                                <h3>OpenSim Ready</h3>
                                <p>Biomechanically accurate inverse kinematics</p>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Important Notes</h4>
                            <ul>
                                <li>Angle estimation is only as good as the pose estimation algorithm - it is not perfect</li>
                                <li>Results are acceptable only if persons move in the 2D plane (sagittal or frontal plane)</li>
                                <li>Persons need to be filmed as parallel as possible to the motion plane</li>
                                <li>For 3D research-grade markerless joint kinematics, use <a href="https://github.com/perfanalytics/pose2sim" target="_blank">Pose2Sim</a> with multiple cameras</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <h4>üì¶ Recent Updates</h4>
                            <ul>
                                <li><strong>v0.9:</strong> Generate or import calibration file, OpenSim skeleton overlay</li>
                                <li><strong>v0.8:</strong> Select only the persons you want to analyze</li>
                                <li><strong>v0.7:</strong> MarkerAugmentation and Inverse Kinematics with OpenSim</li>
                                <li><strong>v0.6:</strong> Any detector and pose estimation model can be used</li>
                                <li><strong>v0.5:</strong> Results in meters rather than pixels</li>
                            </ul>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Sports2D calcule automatiquement les positions articulaires 2D ainsi que les angles articulaires et segmentaires √† partir d'une vid√©o ou d'une webcam.</p>
                        
                        <!-- Demo Video -->
                        <div class="video-container">
                            <video controls poster="https://raw.githubusercontent.com/davidpagnon/Sports2D/main/Content/Demo_results.png">
                                <source src="https://github.com/user-attachments/assets/6a444474-4df1-4134-af0c-e9746fa433ad" type="video/mp4">
                                Votre navigateur ne supporte pas la lecture vid√©o.
                            </video>
                        </div>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">üéØ</div>
                                <h3>D√©tection Pr√©cise</h3>
                                <p>Technologie RTMPose pour un suivi fiable</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">üìê</div>
                                <h3>Calcul d'Angles</h3>
                                <p>Calcul automatique des angles articulaires</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">üìè</div>
                                <h3>Mesures R√©elles</h3>
                                <p>Convertir les pixels en m√®tres</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">ü§∏</div>
                                <h3>Compatible OpenSim</h3>
                                <p>Cin√©matique inverse biom√©caniquement pr√©cise</p>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Notes Importantes</h4>
                            <ul>
                                <li>L'estimation des angles n'est aussi bonne que l'algorithme d'estimation de pose - elle n'est pas parfaite</li>
                                <li>Les r√©sultats ne sont acceptables que si les personnes se d√©placent dans le plan 2D (plan sagittal ou frontal)</li>
                                <li>Les personnes doivent √™tre film√©es aussi parall√®lement que possible au plan de mouvement</li>
                                <li>Pour la cin√©matique articulaire sans marqueur de qualit√© recherche en 3D, utilisez <a href="https://github.com/perfanalytics/pose2sim" target="_blank">Pose2Sim</a> avec plusieurs cam√©ras</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <h4>üì¶ Mises √† Jour R√©centes</h4>
                            <ul>
                                <li><strong>v0.9:</strong> G√©n√©rer ou importer un fichier de calibration, superposition squelette OpenSim</li>
                                <li><strong>v0.8:</strong> S√©lectionner uniquement les personnes √† analyser</li>
                                <li><strong>v0.7:</strong> Augmentation de marqueurs et cin√©matique inverse avec OpenSim</li>
                                <li><strong>v0.6:</strong> N'importe quel d√©tecteur et mod√®le d'estimation de pose peut √™tre utilis√©</li>
                                <li><strong>v0.5:</strong> R√©sultats en m√®tres plut√¥t qu'en pixels</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 1: Installation -->
            <section class="step" id="step-1" data-step="1">
                <div class="step-header">
                    <span class="step-badge">Step 1</span>
                    <h1 class="lang-en">Installation</h1>
                    <h1 class="lang-fr" style="display:none;">Installation</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Two installation options: Quick install for basic use, or Full install for OpenSim inverse kinematics.</p>
                        
                        <div class="instruction-step">
                            <h3>Quick Install</h3>
                            <p>For basic pose estimation and angle calculation (no inverse kinematics):</p>
                            
                            <h4>1. Check Python Version</h4>
                            <p>Make sure Python 3.10-3.12 is installed:</p>
                            <div class="code-block">
                                <code>python -V</code>
                            </div>
                            <p class="small-note">If not installed, check the next section</p>
                            
                            <h4>2. Install Sports2D</h4>
                            <div class="code-block">
                                <code>pip install sports2d</code>
                            </div>
                            
                            <p><strong>Alternative - Build from source (for latest changes):</strong></p>
                            <div class="code-block">
                                <code>git clone https://github.com/davidpagnon/sports2d.git
cd sports2d
pip install .</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Full Install (with OpenSim)</h3>
                            <p>Required for inverse kinematics. Skip if you already have a Pose2Sim environment.</p>
                            
                            <h4>1. Install Anaconda or Miniconda</h4>
                            <p>Download <a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank">Miniconda</a> (recommended - lighter version)</p>
                            
                            <h4>2. Create Virtual Environment</h4>
                            <p>Open an Anaconda prompt:</p>
                            <div class="code-block">
                                <code>conda create -n Sports2D python=3.12 -y
conda activate Sports2D</code>
                            </div>
                            
                            <h4>3. Install OpenSim</h4>
                            <div class="code-block">
                                <code>conda install -c opensim-org opensim -y</code>
                            </div>
                            <p class="small-note">For other installation methods, see <a href="https://opensimconfluence.atlassian.net/wiki/spaces/OpenSim/pages/53085346/Scripting+in+Python" target="_blank">OpenSim documentation</a></p>
                            
                            <h4>4. Install Sports2D</h4>
                            <div class="code-block">
                                <code>pip install sports2d</code>
                            </div>
                        </div>

                        <div class="success-box">
                            <h4>‚úÖ Installation Complete!</h4>
                            <p>If you used conda, remember to activate your environment before use:</p>
                            <div class="code-block">
                                <code>conda activate Sports2D</code>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üí° For Existing Pose2Sim Users</h4>
                            <p>If you already have a Pose2Sim environment:</p>
                            <div class="code-block">
                                <code>conda activate Pose2Sim
pip install sports2d</code>
                            </div>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Deux options d'installation : Installation rapide pour usage de base, ou Installation compl√®te pour la cin√©matique inverse OpenSim.</p>
                        
                        <div class="instruction-step">
                            <h3>Installation Rapide</h3>
                            <p>Pour l'estimation de pose de base et le calcul d'angles (pas de cin√©matique inverse) :</p>
                            
                            <h4>1. V√©rifier la Version Python</h4>
                            <p>Assurez-vous que Python 3.10-3.12 est install√© :</p>
                            <div class="code-block">
                                <code>python -V</code>
                            </div>
                            <p class="small-note">Si non install√©, t√©l√©chargez depuis <a href="https://www.python.org/downloads/" target="_blank">python.org</a></p>
                            
                            <h4>2. Installer Sports2D</h4>
                            <div class="code-block">
                                <code>pip install sports2d</code>
                            </div>
                            
                            <p><strong>Alternative - Compiler depuis la source (pour les derniers changements) :</strong></p>
                            <div class="code-block">
                                <code>git clone https://github.com/davidpagnon/sports2d.git
cd sports2d
pip install .</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Installation Compl√®te (avec OpenSim)</h3>
                            <p>Requis pour la cin√©matique inverse. Ignorez si vous avez d√©j√† un environnement Pose2Sim.</p>
                            
                            <h4>1. Installer Anaconda ou Miniconda</h4>
                            <p>T√©l√©chargez <a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank">Miniconda</a> (recommand√© - version plus l√©g√®re)</p>
                            
                            <h4>2. Cr√©er un Environnement Virtuel</h4>
                            <p>Ouvrez une invite Anaconda :</p>
                            <div class="code-block">
                                <code>conda create -n Sports2D python=3.12 -y
conda activate Sports2D</code>
                            </div>
                            
                            <h4>3. Installer OpenSim</h4>
                            <div class="code-block">
                                <code>conda install -c opensim-org opensim -y</code>
                            </div>
                            <p class="small-note">Pour d'autres m√©thodes d'installation, voir <a href="https://opensimconfluence.atlassian.net/wiki/spaces/OpenSim/pages/53085346/Scripting+in+Python" target="_blank">documentation OpenSim</a></p>
                            
                            <h4>4. Installer Sports2D</h4>
                            <div class="code-block">
                                <code>pip install sports2d</code>
                            </div>
                        </div>

                        <div class="success-box">
                            <h4>‚úÖ Installation Termin√©e !</h4>
                            <p>Si vous avez utilis√© conda, n'oubliez pas d'activer votre environnement avant utilisation :</p>
                            <div class="code-block">
                                <code>conda activate Sports2D</code>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üí° Pour les Utilisateurs Pose2Sim Existants</h4>
                            <p>Si vous avez d√©j√† un environnement Pose2Sim :</p>
                            <div class="code-block">
                                <code>conda activate Pose2Sim
pip install sports2d</code>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 2: Run Demo -->
            <section class="step" id="step-2" data-step="2">
                <div class="step-header">
                    <span class="step-badge">Step 2</span>
                    <h1 class="lang-en">Run the Demo</h1>
                    <h1 class="lang-fr" style="display:none;">Ex√©cuter la D√©mo</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Test your installation with the included demo video.</p>
                        
                        <div class="instruction-step">
                            <h3>Run Demo Command</h3>
                            <p>Simply type this command:</p>
                            <div class="code-block">
                                <code>sports2d</code>
                            </div>
                            <p>You should see joint positions and angles displayed in real-time.</p>
                        </div>

                        <div class="info-box">
                            <h4>üìÅ Output Files Created</h4>
                            <p>Check the folder where you ran the command to find:</p>
                            <ul>
                                <li><strong>Video:</strong> Processed with skeleton overlay and angle values</li>
                                <li><strong>Images:</strong> Individual processed frames</li>
                                <li><strong>.trc files:</strong> Pose coordinates (open with Excel or any spreadsheet software)</li>
                                <li><strong>.mot files:</strong> Angle files (open with Excel or any spreadsheet software)</li>
                                <li><strong>Logs:</strong> Processing details and statistics</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <h4>üé¨ About the Demo Video</h4>
                            <p>The demo is deliberately challenging to demonstrate robustness:</p>
                            <ul>
                                <li>One person walking in the sagittal plane</li>
                                <li>One person doing jumping jacks in the frontal plane, then performing a flip while backlit</li>
                                <li>One tiny person flickering in the background who needs to be ignored</li>
                            </ul>
                        </div>

                        <div class="instruction-step">
                            <h3>Visualize in OpenSim (Optional)</h3>
                            <p>If you installed OpenSim and ran with <code>--do_ik True</code>:</p>
                            <ol>
                                <li>Open OpenSim GUI</li>
                                <li>File ‚Üí Preview experimental data ‚Üí Open your .trc file</li>
                                <li>File ‚Üí Open Model ‚Üí Open the .osim file</li>
                                <li>File ‚Üí Load Motion ‚Üí Open the .mot file</li>
                            </ol>
                        </div>

                        <div class="instruction-step">
                            <h3>Visualize in Blender (Optional)</h3>
                            <p>Install the <a href="https://github.com/davidpagnon/Pose2Sim_Blender" target="_blank">Pose2Sim_Blender add-on</a> for 3D visualization with camera overlay.</p>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Important</h4>
                            <p>If you used conda, activate your environment first:</p>
                            <div class="code-block">
                                <code>conda activate Sports2D
sports2d</code>
                            </div>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Testez votre installation avec la vid√©o de d√©monstration incluse.</p>
                        
                        <div class="instruction-step">
                            <h3>Commande de D√©mo</h3>
                            <p>Tapez simplement cette commande :</p>
                            <div class="code-block">
                                <code>sports2d</code>
                            </div>
                            <p>Vous devriez voir les positions articulaires et les angles affich√©s en temps r√©el.</p>
                        </div>

                        <div class="info-box">
                            <h4>üìÅ Fichiers de Sortie Cr√©√©s</h4>
                            <p>V√©rifiez le dossier o√π vous avez ex√©cut√© la commande pour trouver :</p>
                            <ul>
                                <li><strong>Vid√©o :</strong> Trait√©e avec superposition de squelette et valeurs d'angles</li>
                                <li><strong>Images :</strong> Images trait√©es individuelles</li>
                                <li><strong>Fichiers .trc :</strong> Coordonn√©es de pose (ouvrir avec Excel ou tout tableur)</li>
                                <li><strong>Fichiers .mot :</strong> Fichiers d'angles (ouvrir avec Excel ou tout tableur)</li>
                                <li><strong>Journaux :</strong> D√©tails et statistiques de traitement</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <h4>üé¨ √Ä Propos de la Vid√©o de D√©mo</h4>
                            <p>La d√©mo est d√©lib√©r√©ment difficile pour d√©montrer la robustesse :</p>
                            <ul>
                                <li>Une personne marchant dans le plan sagittal</li>
                                <li>Une personne faisant des jumping jacks dans le plan frontal, puis effectuant un flip √† contre-jour</li>
                                <li>Une petite personne clignotant en arri√®re-plan qui doit √™tre ignor√©e</li>
                            </ul>
                        </div>

                        <div class="instruction-step">
                            <h3>Visualiser dans OpenSim (Optionnel)</h3>
                            <p>Si vous avez install√© OpenSim et ex√©cut√© avec <code>--do_ik True</code> :</p>
                            <ol>
                                <li>Ouvrez l'interface OpenSim</li>
                                <li>Fichier ‚Üí Aper√ßu donn√©es exp√©rimentales ‚Üí Ouvrez votre fichier .trc</li>
                                <li>Fichier ‚Üí Ouvrir Mod√®le ‚Üí Ouvrez le fichier .osim</li>
                                <li>Fichier ‚Üí Charger Mouvement ‚Üí Ouvrez le fichier .mot</li>
                            </ol>
                        </div>

                        <div class="instruction-step">
                            <h3>Visualiser dans Blender (Optionnel)</h3>
                            <p>Installez l'<a href="https://github.com/davidpagnon/Pose2Sim_Blender" target="_blank">add-on Pose2Sim_Blender</a> pour une visualisation 3D avec superposition de cam√©ra.</p>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Important</h4>
                            <p>Si vous avez utilis√© conda, activez d'abord votre environnement :</p>
                            <div class="code-block">
                                <code>conda activate Sports2D
sports2d</code>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 3: Custom Video -->
            <section class="step" id="step-3" data-step="3">
                <div class="step-header">
                    <span class="step-badge">Step 3</span>
                    <h1 class="lang-en">Use Your Own Video or Webcam</h1>
                    <h1 class="lang-fr" style="display:none;">Utiliser Votre Vid√©o ou Webcam</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <div class="instruction-step">
                            <h3>Process a Video File</h3>
                            <p>Analyze any video file:</p>
                            <div class="code-block">
                                <code>sports2d --video_input path/to/video.mp4</code>
                            </div>
                            <p class="small-note">Beware that images won't be saved if paths contain non-ASCII characters</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Use Webcam for Real-Time Analysis</h3>
                            <div class="code-block">
                                <code>sports2d --video_input webcam</code>
                            </div>
                            <p>If you have multiple cameras, specify which one (0 is default):</p>
                            <div class="code-block">
                                <code>sports2d --video_input webcam --webcam_id 1</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Analyze Specific Time Range</h3>
                            <p>Focus on a particular segment (times in seconds):</p>
                            <div class="code-block">
                                <code>sports2d --video_input video.mp4 --time_range 1.2 2.7</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Batch Processing</h3>
                            <p>Analyze multiple videos with same settings:</p>
                            <div class="code-block">
                                <code>sports2d --video_input video1.mp4 video2.mp4</code>
                            </div>
                            <p>With different time ranges per video:</p>
                            <div class="code-block">
                                <code>sports2d --video_input video1.mp4 video2.mp4 --time_range 1.2 2.7 0 3.5</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Slow-Motion Videos</h3>
                            <p>For videos recorded at high fps but exported at normal speed, specify the slowmo factor:</p>
                            <div class="code-block">
                                <code>sports2d --video_input video.mp4 --slowmo_factor 8</code>
                            </div>
                            <p class="small-note">For a video recorded at 240 fps and exported to 30 fps, factor = 240/30 = 8</p>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <div class="instruction-step">
                            <h3>Traiter un Fichier Vid√©o</h3>
                            <p>Analysez n'importe quel fichier vid√©o :</p>
                            <div class="code-block">
                                <code>sports2d --video_input chemin/vers/video.mp4</code>
                            </div>
                            <p class="small-note">Attention, les images ne seront pas sauvegard√©es si les chemins contiennent des caract√®res non-ASCII</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Utiliser la Webcam pour Analyse en Temps R√©el</h3>
                            <div class="code-block">
                                <code>sports2d --video_input webcam</code>
                            </div>
                            <p>Si vous avez plusieurs cam√©ras, sp√©cifiez laquelle (0 par d√©faut) :</p>
                            <div class="code-block">
                                <code>sports2d --video_input webcam --webcam_id 1</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Analyser une Plage de Temps Sp√©cifique</h3>
                            <p>Concentrez-vous sur un segment particulier (temps en secondes) :</p>
                            <div class="code-block">
                                <code>sports2d --video_input video.mp4 --time_range 1.2 2.7</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Traitement par Lot</h3>
                            <p>Analysez plusieurs vid√©os avec les m√™mes param√®tres :</p>
                            <div class="code-block">
                                <code>sports2d --video_input video1.mp4 video2.mp4</code>
                            </div>
                            <p>Avec diff√©rentes plages de temps par vid√©o :</p>
                            <div class="code-block">
                                <code>sports2d --video_input video1.mp4 video2.mp4 --time_range 1.2 2.7 0 3.5</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Vid√©os au Ralenti</h3>
                            <p>Pour les vid√©os enregistr√©es √† haute fr√©quence mais export√©es √† vitesse normale, sp√©cifiez le facteur de ralenti :</p>
                            <div class="code-block">
                                <code>sports2d --video_input video.mp4 --slowmo_factor 8</code>
                            </div>
                            <p class="small-note">Pour une vid√©o enregistr√©e √† 240 fps et export√©e √† 30 fps, facteur = 240/30 = 8</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 4: Select Persons -->
            <section class="step" id="step-4" data-step="4">
                <div class="step-header">
                    <span class="step-badge">Step 4</span>
                    <h1 class="lang-en">Select Persons to Analyze</h1>
                    <h1 class="lang-fr" style="display:none;">S√©lectionner les Personnes</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">When multiple people appear in your video, choose who to track and analyze.</p>
                        
                        <div class="instruction-step">
                            <h3>Interactive Selection (Recommended)</h3>
                            <p>Click to manually select persons to analyze:</p>
                            <div class="code-block">
                                <code>sports2d --person_ordering_method on_click</code>
                            </div>
                            <p class="small-note">When prompted: slide to a frame and select the desired person</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Automatic Selection</h3>
                            <p>For unattended processing, Sports2D can automatically select persons:</p>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Method</th>
                                        <th>Description</th>
                                    </tr>
                                    <tr>
                                        <td><code>highest_likelihood</code></td>
                                        <td>Most confident detections</td>
                                    </tr>
                                    <tr>
                                        <td><code>largest_size</code></td>
                                        <td>Closest to camera</td>
                                    </tr>
                                    <tr>
                                        <td><code>smallest_size</code></td>
                                        <td>Furthest from camera</td>
                                    </tr>
                                    <tr>
                                        <td><code>greatest_displacement</code></td>
                                        <td>Most active/moving</td>
                                    </tr>
                                    <tr>
                                        <td><code>least_displacement</code></td>
                                        <td>Least active</td>
                                    </tr>
                                    <tr>
                                        <td><code>first_detected</code></td>
                                        <td>Appears first in video</td>
                                    </tr>
                                    <tr>
                                        <td><code>last_detected</code></td>
                                        <td>Appears last in video</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="code-block">
                                <code>sports2d --nb_persons_to_detect 2 --person_ordering_method highest_likelihood</code>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Why Order Matters</h4>
                            <p>Person order is important when:</p>
                            <ul>
                                <li>Converting to meters (first person's height used as reference)</li>
                                <li>Running inverse kinematics (calibration based on first person)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Lorsque plusieurs personnes apparaissent dans votre vid√©o, choisissez qui suivre et analyser.</p>
                        
                        <div class="instruction-step">
                            <h3>S√©lection Interactive (Recommand√©)</h3>
                            <p>Cliquez pour s√©lectionner manuellement les personnes √† analyser :</p>
                            <div class="code-block">
                                <code>sports2d --person_ordering_method on_click</code>
                            </div>
                            <p class="small-note">Lorsque demand√© : faites glisser jusqu'√† une image o√π tout le monde est visible ‚Üí cliquez sur les personnes dans l'ordre souhait√©</p>
                        </div>

                        <div class="instruction-step">
                            <h3>S√©lection Automatique</h3>
                            <p>Pour le traitement automatique, Sports2D peut s√©lectionner automatiquement les personnes :</p>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>M√©thode</th>
                                        <th>Description</th>
                                    </tr>
                                    <tr>
                                        <td><code>highest_likelihood</code></td>
                                        <td>D√©tections les plus confiantes</td>
                                    </tr>
                                    <tr>
                                        <td><code>largest_size</code></td>
                                        <td>Plus proche de la cam√©ra</td>
                                    </tr>
                                    <tr>
                                        <td><code>smallest_size</code></td>
                                        <td>Plus √©loign√© de la cam√©ra</td>
                                    </tr>
                                    <tr>
                                        <td><code>greatest_displacement</code></td>
                                        <td>Plus actif/en mouvement</td>
                                    </tr>
                                    <tr>
                                        <td><code>least_displacement</code></td>
                                        <td>Moins actif</td>
                                    </tr>
                                    <tr>
                                        <td><code>first_detected</code></td>
                                        <td>Appara√Æt en premier</td>
                                    </tr>
                                    <tr>
                                        <td><code>last_detected</code></td>
                                        <td>Appara√Æt en dernier</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="code-block">
                                <code>sports2d --nb_persons_to_detect 2 --person_ordering_method highest_likelihood</code>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Pourquoi l'Ordre est Important</h4>
                            <p>L'ordre des personnes est important lors de :</p>
                            <ul>
                                <li>Conversion en m√®tres (la taille de la premi√®re personne utilis√©e comme r√©f√©rence)</li>
                                <li>Ex√©cution de la cin√©matique inverse (calibration bas√©e sur la premi√®re personne)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 5: Convert to Meters -->
            <section class="step" id="step-5" data-step="5">
                <div class="step-header">
                    <span class="step-badge">Step 5</span>
                    <h1 class="lang-en">Convert to Meters</h1>
                    <h1 class="lang-fr" style="display:none;">Convertir en M√®tres</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Get real-world measurements instead of pixel coordinates.</p>
                        
                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Important Note</h4>
                            <p>The Z coordinate (depth) is estimated and should not be overly trusted for accurate depth measurements.</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Method 1: Provide Reference Height (Simple)</h3>
                            <p>Just tell Sports2D the height of the first person:</p>
                            <div class="code-block">
                                <code>sports2d --first_person_height 1.65 --visible_side auto</code>
                            </div>
                            <p>How it works:</p>
                            <ul>
                                <li>Height in pixels is compared with real height to get pixel-to-meter conversion</li>
                                <li>Floor angle and xy origin automatically estimated from gait</li>
                                <li>Depth (Z) coordinates estimated based on visible side</li>
                                <li>Calibration file automatically saved for reuse</li>
                            </ul>
                        </div>

                        <div class="params-table">
                            <h4>Visible Side Options:</h4>
                            <table>
                                <tr>
                                    <th>Option</th>
                                    <th>When to Use</th>
                                </tr>
                                <tr>
                                    <td><code>auto</code></td>
                                    <td>Automatically determine - works for sagittal plane motions (left or right based on motion direction)</td>
                                </tr>
                                <tr>
                                    <td><code>left</code></td>
                                    <td>Person's left side visible</td>
                                </tr>
                                <tr>
                                    <td><code>right</code></td>
                                    <td>Person's right side visible</td>
                                </tr>
                                <tr>
                                    <td><code>front</code></td>
                                    <td>Person faces camera</td>
                                </tr>
                                <tr>
                                    <td><code>back</code></td>
                                    <td>Person's back to camera</td>
                                </tr>
                                <tr>
                                    <td><code>none</code></td>
                                    <td>Keep 2D coordinates (when person turns around)</td>
                                </tr>
                            </table>
                        </div>

                        <div class="instruction-step">
                            <h3>Advanced: Manual Floor & Origin</h3>
                            <p>Override automatic detection:</p>
                            <div class="code-block">
                                <code>sports2d --first_person_height 1.65 --visible_side left \
  --floor_angle 0 --xy_origin 0 940</code>
                            </div>
                            <p class="small-note">Y axis points down. Origin is typically placed under the person's feet.</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Method 2: Use Calibration File</h3>
                            <p>Use a calibration file from previous runs or from other systems (Pose2Sim, Qualisys, Vicon, OpenCap, FreeMoCap):</p>
                            <div class="code-block">
                                <code>sports2d --calib_file Calib_demo.toml --visible_side auto front none</code>
                            </div>
                            <p class="small-note">By convention, camera-to-subject distance is set to 10 meters in generated calibration files</p>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Obtenez des mesures r√©elles au lieu de coordonn√©es en pixels.</p>
                        
                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Note Importante</h4>
                            <p>La coordonn√©e Z (profondeur) est estim√©e et ne doit pas √™tre trop fiable pour des mesures de profondeur pr√©cises.</p>
                        </div>

                        <div class="instruction-step">
                            <h3>M√©thode 1 : Fournir la Hauteur de R√©f√©rence (Simple)</h3>
                            <p>Dites simplement √† Sports2D la taille de la premi√®re personne :</p>
                            <div class="code-block">
                                <code>sports2d --first_person_height 1.65 --visible_side auto</code>
                            </div>
                            <p>Comment √ßa marche :</p>
                            <ul>
                                <li>La hauteur en pixels est compar√©e √† la hauteur r√©elle pour obtenir la conversion pixel-m√®tre</li>
                                <li>L'angle du sol et l'origine xy automatiquement estim√©s depuis la marche</li>
                                <li>Coordonn√©es de profondeur (Z) estim√©es selon le c√¥t√© visible</li>
                                <li>Fichier de calibration automatiquement sauvegard√© pour r√©utilisation</li>
                            </ul>
                        </div>

                        <div class="params-table">
                            <h4>Options de C√¥t√© Visible :</h4>
                            <table>
                                <tr>
                                    <th>Option</th>
                                    <th>Quand l'Utiliser</th>
                                </tr>
                                <tr>
                                    <td><code>auto</code></td>
                                    <td>D√©terminer automatiquement - fonctionne pour les mouvements dans le plan sagittal (gauche ou droite selon la direction du mouvement)</td>
                                </tr>
                                <tr>
                                    <td><code>left</code></td>
                                    <td>C√¥t√© gauche de la personne visible</td>
                                </tr>
                                <tr>
                                    <td><code>right</code></td>
                                    <td>C√¥t√© droit de la personne visible</td>
                                </tr>
                                <tr>
                                    <td><code>front</code></td>
                                    <td>Personne face √† la cam√©ra</td>
                                </tr>
                                <tr>
                                    <td><code>back</code></td>
                                    <td>Dos de la personne vers la cam√©ra</td>
                                </tr>
                                <tr>
                                    <td><code>none</code></td>
                                    <td>Garder les coordonn√©es 2D (quand la personne se retourne)</td>
                                </tr>
                            </table>
                        </div>

                        <div class="instruction-step">
                            <h3>Avanc√© : Sol et Origine Manuels</h3>
                            <p>Remplacer la d√©tection automatique :</p>
                            <div class="code-block">
                                <code>sports2d --first_person_height 1.65 --visible_side left \
  --floor_angle 0 --xy_origin 0 940</code>
                            </div>
                            <p class="small-note">L'axe Y pointe vers le bas. L'origine est typiquement plac√©e sous les pieds de la personne.</p>
                        </div>

                        <div class="instruction-step">
                            <h3>M√©thode 2 : Utiliser un Fichier de Calibration</h3>
                            <p>Utiliser un fichier de calibration d'ex√©cutions pr√©c√©dentes ou d'autres syst√®mes (Pose2Sim, Qualisys, Vicon, OpenCap, FreeMoCap) :</p>
                            <div class="code-block">
                                <code>sports2d --calib_file Calib_demo.toml --visible_side auto front none</code>
                            </div>
                            <p class="small-note">Par convention, la distance cam√©ra-sujet est fix√©e √† 10 m√®tres dans les fichiers de calibration g√©n√©r√©s</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 6: Inverse Kinematics -->
            <section class="step" id="step-6" data-step="6">
                <div class="step-header">
                    <span class="step-badge">Step 6</span>
                    <h1 class="lang-en">Inverse Kinematics with OpenSim</h1>
                    <h1 class="lang-fr" style="display:none;">Cin√©matique Inverse avec OpenSim</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">OpenSim inverse kinematics provides biomechanically accurate results with joint constraints and consistent bone lengths.</p>
                        
                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Requirements</h4>
                            <ul>
                                <li>Full installation with OpenSim required</li>
                                <li>Person must be moving in a single plane for the entire selected time range</li>
                            </ul>
                        </div>

                        <div class="instruction-step">
                            <h3>Basic Inverse Kinematics</h3>
                            <div class="code-block">
                                <code>sports2d --time_range 1.2 2.7 \
  --do_ik true --first_person_height 1.65 --visible_side auto</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>With LSTM Marker Augmentation (Recommended)</h3>
                            <p>Improves motion quality by filling gaps and smoothing trajectories:</p>
                            <div class="code-block">
                                <code>sports2d --time_range 1.2 2.7 \
  --do_ik true --use_augmentation true \
  --first_person_height 1.65 --visible_side left</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Complete Example with All Options</h3>
                            <div class="code-block">
                                <code>sports2d --time_range 1.2 2.7 \
  --do_ik true --use_augmentation true \
  --first_person_height 1.65 --visible_side left front \
  --participant_mass 55.0 67.0 \
  --calib_file Calib_demo.toml</code>
                            </div>
                            <p class="small-note">Mass has no influence on kinematics (motion), only on kinetics (forces) if you pursue further analysis</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Additional Options</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>--feet_on_floor</code></td>
                                        <td>Offset results so feet touch floor level</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>--use_simple_model</code></td>
                                        <td>Faster model without muscles/flexible spine (10x speed)</td>
                                        <td>false</td>
                                    </tr>
                                    <tr>
                                        <td><code>--participant_mass</code></td>
                                        <td>Mass in kg per person</td>
                                        <td>70</td>
                                    </tr>
                                    <tr>
                                        <td><code>--right_left_symmetry</code></td>
                                        <td>Enforce equal left/right limb sizes</td>
                                        <td>true</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üìä Model Scaling Process</h4>
                            <p>OpenSim scales the model based on segment lengths, automatically removing outliers:</p>
                            <ul>
                                <li>Removes 10% fastest frames (potential outliers)</li>
                                <li>Removes frames where speed ‚âà 0 (person probably out of frame)</li>
                                <li>Removes frames with hip/knee flexion > 45¬∞ (imprecise when crouching)</li>
                                <li>Removes 20% most extreme segment values</li>
                                <li>Calculates mean of remaining measurements</li>
                            </ul>
                            <p class="small-note">All parameters can be edited in Config.toml file</p>
                        </div>

                        <div class="info-box">
                            <h4>üéØ Benefits</h4>
                            <ul>
                                <li>Sets joint constraints and angle limits for realistic motion</li>
                                <li>Maintains consistent bone lengths throughout movement</li>
                                <li>Can enforce left/right symmetry</li>
                                <li>Enables further analysis: joint torques, muscle forces, ground reaction forces (with MoCo)</li>
                            </ul>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Important</h4>
                            <p>This will not work on sections where the person is not moving in a single plane. You can split your video into several time ranges if needed.</p>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">La cin√©matique inverse OpenSim fournit des r√©sultats biom√©caniquement pr√©cis avec des contraintes articulaires et des longueurs d'os coh√©rentes.</p>
                        
                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Exigences</h4>
                            <ul>
                                <li>Installation compl√®te avec OpenSim requise</li>
                                <li>La personne doit se d√©placer dans un seul plan pendant toute la plage de temps s√©lectionn√©e</li>
                            </ul>
                        </div>

                        <div class="instruction-step">
                            <h3>Cin√©matique Inverse de Base</h3>
                            <div class="code-block">
                                <code>sports2d --time_range 1.2 2.7 \
  --do_ik true --first_person_height 1.65 --visible_side auto</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Avec Augmentation de Marqueurs LSTM (Recommand√©)</h3>
                            <p>Am√©liore la qualit√© du mouvement en comblant les lacunes et en lissant les trajectoires :</p>
                            <div class="code-block">
                                <code>sports2d --time_range 1.2 2.7 \
  --do_ik true --use_augmentation true \
  --first_person_height 1.65 --visible_side left</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Exemple Complet avec Toutes les Options</h3>
                            <div class="code-block">
                                <code>sports2d --time_range 1.2 2.7 \
  --do_ik true --use_augmentation true \
  --first_person_height 1.65 --visible_side left front \
  --participant_mass 55.0 67.0 \
  --calib_file Calib_demo.toml</code>
                            </div>
                            <p class="small-note">La masse n'a aucune influence sur la cin√©matique (mouvement), seulement sur la cin√©tique (forces) si vous poursuivez une analyse plus pouss√©e</p>
                        </div>

                        <div class="instruction-step">
                            <h3>Options Suppl√©mentaires</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Param√®tre</th>
                                        <th>Description</th>
                                        <th>D√©faut</th>
                                    </tr>
                                    <tr>
                                        <td><code>--feet_on_floor</code></td>
                                        <td>D√©caler les r√©sultats pour que les pieds touchent le sol</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>--use_simple_model</code></td>
                                        <td>Mod√®le plus rapide sans muscles/colonne flexible (10x plus rapide)</td>
                                        <td>false</td>
                                    </tr>
                                    <tr>
                                        <td><code>--participant_mass</code></td>
                                        <td>Masse en kg par personne</td>
                                        <td>70</td>
                                    </tr>
                                    <tr>
                                        <td><code>--right_left_symmetry</code></td>
                                        <td>Appliquer des tailles √©gales des membres gauche/droite</td>
                                        <td>true</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üìä Processus de Mise √† l'√âchelle</h4>
                            <p>OpenSim met √† l'√©chelle le mod√®le bas√© sur les longueurs de segments, supprimant automatiquement les valeurs aberrantes :</p>
                            <ul>
                                <li>Supprime 10% des images les plus rapides (valeurs aberrantes potentielles)</li>
                                <li>Supprime les images o√π la vitesse ‚âà 0 (personne probablement hors cadre)</li>
                                <li>Supprime les images avec flexion hanche/genou > 45¬∞ (impr√©cis lors de l'accroupissement)</li>
                                <li>Supprime 20% des valeurs de segments les plus extr√™mes</li>
                                <li>Calcule la moyenne des mesures restantes</li>
                            </ul>
                            <p class="small-note">Tous les param√®tres peuvent √™tre √©dit√©s dans le fichier Config.toml</p>
                        </div>

                        <div class="info-box">
                            <h4>üéØ Avantages</h4>
                            <ul>
                                <li>D√©finit les contraintes articulaires et les limites d'angle pour un mouvement r√©aliste</li>
                                <li>Maintient des longueurs d'os coh√©rentes tout au long du mouvement</li>
                                <li>Peut appliquer la sym√©trie gauche/droite</li>
                                <li>Permet une analyse plus pouss√©e : couples articulaires, forces musculaires, forces de r√©action au sol (avec MoCo)</li>
                            </ul>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Important</h4>
                            <p>Cela ne fonctionnera pas sur les sections o√π la personne ne se d√©place pas dans un seul plan. Vous pouvez diviser votre vid√©o en plusieurs plages de temps si n√©cessaire.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 7: Configuration File -->
            <section class="step" id="step-7" data-step="7">
                <div class="step-header">
                    <span class="step-badge">Step 7</span>
                    <h1 class="lang-en">Configuration File</h1>
                    <h1 class="lang-fr" style="display:none;">Fichier de Configuration</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">For complex analyses, use a configuration file instead of long command lines.</p>
                        
                        <div class="instruction-step">
                            <h3>Run with Config File</h3>
                            <div class="code-block">
                                <code>sports2d --config Config_demo.toml</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Python Integration - Full Config</h3>
                            <p>Load and use a complete TOML configuration file:</p>
                            <div class="code-block">
                                <code>from Sports2D import Sports2D
from pathlib import Path
import toml

config_path = Path(Sports2D.__file__).parent / 'Demo' / 'Config_demo.toml'
config_dict = toml.load(config_path)
Sports2D.process(config_dict)</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Python Integration - Partial Config</h3>
                            <p>Override only specific parameters (others use defaults):</p>
                            <div class="code-block">
                                <code>from Sports2D import Sports2D

config_dict = {
    'base': {
        'nb_persons_to_detect': 1,
        'person_ordering_method': 'greatest_displacement'
    },
    'pose': {
        'mode': 'lightweight', 
        'det_frequency': 50
    }
}
Sports2D.process(config_dict)</code>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üìã Config File Structure</h4>
                            <p>TOML configuration files are organized into sections:</p>
                            <ul>
                                <li><strong>[base]</strong> - General settings (video input, person detection)</li>
                                <li><strong>[pose]</strong> - Pose estimation parameters (model, frequency)</li>
                                <li><strong>[process]</strong> - Processing options (filtering, interpolation)</li>
                                <li><strong>[opensim]</strong> - Inverse kinematics settings</li>
                            </ul>
                        </div>

                        <div class="instruction-step">
                            <h3>Get Help on All Parameters</h3>
                            <div class="code-block">
                                <code>sports2d --help</code>
                            </div>
                            <p>View example configuration: <a href="https://github.com/davidpagnon/Sports2D/blob/main/Sports2D/Demo/Config_demo.toml" target="_blank">Config_Demo.toml</a></p>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Pour les analyses complexes, utilisez un fichier de configuration au lieu de longues lignes de commande.</p>
                        
                        <div class="instruction-step">
                            <h3>Ex√©cuter avec Fichier Config</h3>
                            <div class="code-block">
                                <code>sports2d --config Config_demo.toml</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Int√©gration Python - Config Complet</h3>
                            <p>Charger et utiliser un fichier de configuration TOML complet :</p>
                            <div class="code-block">
                                <code>from Sports2D import Sports2D
from pathlib import Path
import toml

config_path = Path(Sports2D.__file__).parent / 'Demo' / 'Config_demo.toml'
config_dict = toml.load(config_path)
Sports2D.process(config_dict)</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>Int√©gration Python - Config Partiel</h3>
                            <p>Remplacer uniquement des param√®tres sp√©cifiques (les autres utilisent les valeurs par d√©faut) :</p>
                            <div class="code-block">
                                <code>from Sports2D import Sports2D

config_dict = {
    'base': {
        'nb_persons_to_detect': 1,
        'person_ordering_method': 'greatest_displacement'
    },
    'pose': {
        'mode': 'lightweight', 
        'det_frequency': 50
    }
}
Sports2D.process(config_dict)</code>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üìã Structure du Fichier Config</h4>
                            <p>Les fichiers de configuration TOML sont organis√©s en sections :</p>
                            <ul>
                                <li><strong>[base]</strong> - Param√®tres g√©n√©raux (entr√©e vid√©o, d√©tection de personnes)</li>
                                <li><strong>[pose]</strong> - Param√®tres d'estimation de pose (mod√®le, fr√©quence)</li>
                                <li><strong>[process]</strong> - Options de traitement (filtrage, interpolation)</li>
                                <li><strong>[opensim]</strong> - Param√®tres de cin√©matique inverse</li>
                            </ul>
                        </div>

                        <div class="instruction-step">
                            <h3>Obtenir de l'Aide sur Tous les Param√®tres</h3>
                            <div class="code-block">
                                <code>sports2d --help</code>
                            </div>
                            <p>Voir exemple de configuration : <a href="https://github.com/davidpagnon/Sports2D/blob/main/Sports2D/Demo/Config_demo.toml" target="_blank">Config_Demo.toml</a></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 8: All Parameters -->
            <section class="step" id="step-8" data-step="8">
                <div class="step-header">
                    <span class="step-badge">Step 8</span>
                    <h1 class="lang-en">All Parameters Reference</h1>
                    <h1 class="lang-fr" style="display:none;">R√©f√©rence Compl√®te</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Complete reference of available parameters. Most have sensible defaults.</p>
                        
                        <div class="params-section">
                            <h3>üìπ Video & General</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>video_input</code></td>
                                        <td>Video path(s) or 'webcam'</td>
                                        <td>demo video</td>
                                    </tr>
                                    <tr>
                                        <td><code>webcam_id</code></td>
                                        <td>Camera ID for webcam</td>
                                        <td>0</td>
                                    </tr>
                                    <tr>
                                        <td><code>time_range</code></td>
                                        <td>Start and end time (seconds)</td>
                                        <td>whole video</td>
                                    </tr>
                                    <tr>
                                        <td><code>result_dir</code></td>
                                        <td>Output directory</td>
                                        <td>current dir</td>
                                    </tr>
                                    <tr>
                                        <td><code>slowmo_factor</code></td>
                                        <td>Slow-motion factor (recording fps / export fps)</td>
                                        <td>1</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üë• Person Detection</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>nb_persons_to_detect</code></td>
                                        <td>Number or 'all'</td>
                                        <td>all</td>
                                    </tr>
                                    <tr>
                                        <td><code>person_ordering_method</code></td>
                                        <td>on_click, highest_likelihood, largest_size, smallest_size, greatest_displacement, least_displacement, first_detected, last_detected</td>
                                        <td>on_click</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üéØ Pose Estimation</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>pose_model</code></td>
                                        <td>body_with_feet, whole_body_wrist, whole_body, body</td>
                                        <td>body_with_feet</td>
                                    </tr>
                                    <tr>
                                        <td><code>mode</code></td>
                                        <td>lightweight, balanced, performance (or custom dict)</td>
                                        <td>balanced</td>
                                    </tr>
                                    <tr>
                                        <td><code>det_frequency</code></td>
                                        <td>Run detection every N frames (tracking fills gaps)</td>
                                        <td>1</td>
                                    </tr>
                                    <tr>
                                        <td><code>tracking_mode</code></td>
                                        <td>sports2d, deepsort</td>
                                        <td>sports2d</td>
                                    </tr>
                                    <tr>
                                        <td><code>backend</code></td>
                                        <td>auto, cpu, cuda, mps, rocm</td>
                                        <td>auto</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üìê Angles</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>calculate_angles</code></td>
                                        <td>Calculate joint/segment angles</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>joint_angles</code></td>
                                        <td>List of joints to compute</td>
                                        <td>all standard joints</td>
                                    </tr>
                                    <tr>
                                        <td><code>segment_angles</code></td>
                                        <td>List of segments to compute</td>
                                        <td>all standard segments</td>
                                    </tr>
                                    <tr>
                                        <td><code>display_angle_values_on</code></td>
                                        <td>body, list, both, or none</td>
                                        <td>body list</td>
                                    </tr>
                                    <tr>
                                        <td><code>flip_left_right</code></td>
                                        <td>Flip angles when person switches sides</td>
                                        <td>true</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üìè Calibration</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>to_meters</code></td>
                                        <td>Convert to real-world measurements</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>first_person_height</code></td>
                                        <td>Reference height in meters</td>
                                        <td>1.65</td>
                                    </tr>
                                    <tr>
                                        <td><code>visible_side</code></td>
                                        <td>auto, left, right, front, back, none</td>
                                        <td>auto front none</td>
                                    </tr>
                                    <tr>
                                        <td><code>floor_angle</code></td>
                                        <td>Floor angle in degrees or 'auto'</td>
                                        <td>auto</td>
                                    </tr>
                                    <tr>
                                        <td><code>calib_file</code></td>
                                        <td>Path to calibration file</td>
                                        <td>none</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>ü§∏ OpenSim IK</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>do_ik</code></td>
                                        <td>Run inverse kinematics</td>
                                        <td>false</td>
                                    </tr>
                                    <tr>
                                        <td><code>use_augmentation</code></td>
                                        <td>Use LSTM marker augmentation</td>
                                        <td>false</td>
                                    </tr>
                                    <tr>
                                        <td><code>feet_on_floor</code></td>
                                        <td>Offset so feet touch floor</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>use_simple_model</code></td>
                                        <td>Faster model (10x speed)</td>
                                        <td>false</td>
                                    </tr>
                                    <tr>
                                        <td><code>participant_mass</code></td>
                                        <td>Mass in kg per person</td>
                                        <td>70</td>
                                    </tr>
                                    <tr>
                                        <td><code>right_left_symmetry</code></td>
                                        <td>Enforce symmetry</td>
                                        <td>true</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üîÑ Processing</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>interpolate</code></td>
                                        <td>Fill missing data gaps</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>interp_gap_smaller_than</code></td>
                                        <td>Max gap size in frames</td>
                                        <td>10</td>
                                    </tr>
                                    <tr>
                                        <td><code>reject_outliers</code></td>
                                        <td>Use Hampel filter</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>filter</code></td>
                                        <td>Apply filtering</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>filter_type</code></td>
                                        <td>butterworth, kalman, gcv_spline, gaussian, median, loess</td>
                                        <td>butterworth</td>
                                    </tr>
                                    <tr>
                                        <td><code>cut_off_frequency</code></td>
                                        <td>Butterworth cutoff (Hz)</td>
                                        <td>3</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üíæ Output</h3>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Default</th>
                                    </tr>
                                    <tr>
                                        <td><code>save_vid</code></td>
                                        <td>Save processed video</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>save_img</code></td>
                                        <td>Save processed images</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>save_pose</code></td>
                                        <td>Save TRC pose files</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>save_angles</code></td>
                                        <td>Save MOT angle files</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>show_realtime_results</code></td>
                                        <td>Display during processing</td>
                                        <td>true</td>
                                    </tr>
                                    <tr>
                                        <td><code>show_graphs</code></td>
                                        <td>Show plots after</td>
                                        <td>true</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üìñ Full Documentation</h4>
                            <p>For complete parameter details: <code>sports2d --help</code></p>
                            <p>Example config: <a href="https://github.com/davidpagnon/Sports2D/blob/main/Sports2D/Demo/Config_demo.toml" target="_blank">Config_Demo.toml</a></p>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">R√©f√©rence compl√®te des param√®tres disponibles. La plupart ont des valeurs par d√©faut sens√©es.</p>
                        
                        <div class="info-box">
                            <h4>üìñ Documentation Compl√®te</h4>
                            <p>Pour les d√©tails complets : <code>sports2d --help</code></p>
                            <p>Exemple de config : <a href="https://github.com/davidpagnon/Sports2D/blob/main/Sports2D/Demo/Config_demo.toml" target="_blank">Config_Demo.toml</a></p>
                            <p>Consultez la version anglaise pour la liste compl√®te des param√®tres organis√©s par cat√©gorie.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 9: Optimization -->
            <section class="step" id="step-9" data-step="9">
                <div class="step-header">
                    <span class="step-badge">Step 9</span>
                    <h1 class="lang-en">Performance Optimization</h1>
                    <h1 class="lang-fr" style="display:none;">Optimisation Performance</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Speed up processing for large videos or batch operations.</p>
                        
                        <div class="instruction-step">
                            <h3>1. Disable Unnecessary Outputs</h3>
                            <p>Skip video/image saving and real-time display when you only need the data:</p>
                            <div class="code-block">
                                <code>sports2d --save_vid false --save_img false --show_realtime_results false</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>2. Use Lightweight Mode</h3>
                            <p>Lighter pose model for significant speed gains:</p>
                            <div class="code-block">
                                <code>sports2d --mode lightweight</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>3. Reduce Detection Frequency</h3>
                            <p>Person detection is slow. Run it every N frames instead of every frame (tracking fills gaps):</p>
                            <div class="code-block">
                                <code>sports2d --det_frequency 50</code>
                            </div>
                            <p class="small-note">Detection finds people (slow), tracking follows them between detections (fast). Keypoint detection still runs on all frames.</p>
                        </div>

                        <div class="instruction-step">
                            <h3>4. Reuse Pose Estimation</h3>
                            <p>Load existing pose data to test different conversion or angle parameters:</p>
                            <div class="code-block">
                                <code>sports2d --load_trc_px existing_file_px.trc</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>5. Use Sports2D Tracker</h3>
                            <p>Default Sports2D tracker is faster than DeepSort:</p>
                            <div class="code-block">
                                <code>sports2d --tracking_mode sports2d</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>6. GPU Acceleration (NVIDIA)</h3>
                            <p>Enable CUDA for dramatic speedups (requires ~6GB additional storage):</p>
                            
                            <div class="substep">
                                <h4>Check GPU:</h4>
                                <div class="code-block">
                                    <code>nvidia-smi</code>
                                </div>
                                <p class="small-note">Note the CUDA version - this is the latest your driver supports</p>
                            </div>

                            <div class="substep">
                                <h4>Install PyTorch with CUDA:</h4>
                                <div class="code-block">
                                    <code>pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124</code>
                                </div>
                                <p class="small-note">Adjust cu124 based on your CUDA version. Check <a href="https://pytorch.org/" target="_blank">pytorch.org</a> for compatible versions</p>
                            </div>

                            <div class="substep">
                                <h4>Install ONNX Runtime GPU:</h4>
                                <div class="code-block">
                                    <code>pip uninstall onnxruntime
pip install onnxruntime-gpu</code>
                                </div>
                            </div>

                            <div class="substep">
                                <h4>Verify:</h4>
                                <div class="code-block">
                                    <code>python -c "import torch; print(torch.cuda.is_available())"
python -c "import onnxruntime as ort; print(ort.get_available_providers())"</code>
                                </div>
                                <p class="small-note">Should print: True and ['CUDAExecutionProvider', ...]</p>
                            </div>
                        </div>

                        <div class="success-box">
                            <h4>‚úÖ Maximum Speed Command</h4>
                            <p>Combine all optimizations:</p>
                            <div class="code-block">
                                <code>sports2d --mode lightweight --det_frequency 50 \
  --save_vid false --save_img false --show_realtime_results false \
  --tracking_mode sports2d</code>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üí° Additional Tips</h4>
                            <ul>
                                <li>Use <code>--time_range</code> to process only relevant segments</li>
                                <li>Lower <code>--input_size</code> for faster processing (e.g., 960 540)</li>
                                <li>GPU acceleration provides 3-5x speedup on NVIDIA GPUs</li>
                            </ul>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Acc√©l√©rer le traitement pour les grandes vid√©os ou les op√©rations par lots.</p>
                        
                        <div class="instruction-step">
                            <h3>1. D√©sactiver les Sorties Inutiles</h3>
                            <p>Ignorer la sauvegarde vid√©o/image et l'affichage temps r√©el quand vous n'avez besoin que des donn√©es :</p>
                            <div class="code-block">
                                <code>sports2d --save_vid false --save_img false --show_realtime_results false</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>2. Utiliser le Mode L√©ger</h3>
                            <p>Mod√®le de pose plus l√©ger pour des gains de vitesse significatifs :</p>
                            <div class="code-block">
                                <code>sports2d --mode lightweight</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>3. R√©duire la Fr√©quence de D√©tection</h3>
                            <p>La d√©tection de personnes est lente. Ex√©cutez-la toutes les N images au lieu de chaque image (le suivi comble les lacunes) :</p>
                            <div class="code-block">
                                <code>sports2d --det_frequency 50</code>
                            </div>
                            <p class="small-note">La d√©tection trouve les personnes (lent), le suivi les suit entre les d√©tections (rapide). La d√©tection des points cl√©s s'ex√©cute toujours sur toutes les images.</p>
                        </div>

                        <div class="instruction-step">
                            <h3>4. R√©utiliser l'Estimation de Pose</h3>
                            <p>Charger les donn√©es de pose existantes pour tester diff√©rents param√®tres de conversion ou d'angles :</p>
                            <div class="code-block">
                                <code>sports2d --load_trc_px fichier_existant_px.trc</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>5. Utiliser le Tracker Sports2D</h3>
                            <p>Le tracker Sports2D par d√©faut est plus rapide que DeepSort :</p>
                            <div class="code-block">
                                <code>sports2d --tracking_mode sports2d</code>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <h3>6. Acc√©l√©ration GPU (NVIDIA)</h3>
                            <p>Activer CUDA pour des acc√©l√©rations spectaculaires (n√©cessite ~6GB de stockage suppl√©mentaire) :</p>
                            
                            <div class="substep">
                                <h4>V√©rifier le GPU :</h4>
                                <div class="code-block">
                                    <code>nvidia-smi</code>
                                </div>
                                <p class="small-note">Notez la version CUDA - c'est la derni√®re que votre pilote supporte</p>
                            </div>

                            <div class="substep">
                                <h4>Installer PyTorch avec CUDA :</h4>
                                <div class="code-block">
                                    <code>pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124</code>
                                </div>
                                <p class="small-note">Ajustez cu124 en fonction de votre version CUDA. V√©rifiez <a href="https://pytorch.org/" target="_blank">pytorch.org</a> pour les versions compatibles</p>
                            </div>

                            <div class="substep">
                                <h4>Installer ONNX Runtime GPU :</h4>
                                <div class="code-block">
                                    <code>pip uninstall onnxruntime
pip install onnxruntime-gpu</code>
                                </div>
                            </div>

                            <div class="substep">
                                <h4>V√©rifier :</h4>
                                <div class="code-block">
                                    <code>python -c "import torch; print(torch.cuda.is_available())"
python -c "import onnxruntime as ort; print(ort.get_available_providers())"</code>
                                </div>
                                <p class="small-note">Devrait afficher : True et ['CUDAExecutionProvider', ...]</p>
                            </div>
                        </div>

                        <div class="success-box">
                            <h4>‚úÖ Commande Vitesse Maximale</h4>
                            <p>Combiner toutes les optimisations :</p>
                            <div class="code-block">
                                <code>sports2d --mode lightweight --det_frequency 50 \
  --save_vid false --save_img false --show_realtime_results false \
  --tracking_mode sports2d</code>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üí° Conseils Suppl√©mentaires</h4>
                            <ul>
                                <li>Utilisez <code>--time_range</code> pour ne traiter que les segments pertinents</li>
                                <li>R√©duisez <code>--input_size</code> pour un traitement plus rapide (ex : 960 540)</li>
                                <li>L'acc√©l√©ration GPU fournit une acc√©l√©ration 3-5x sur les GPU NVIDIA</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 10: Angle Conventions -->
            <section class="step" id="step-10" data-step="10">
                <div class="step-header">
                    <span class="step-badge">Step 10</span>
                    <h1 class="lang-en">Angle Conventions</h1>
                    <h1 class="lang-fr" style="display:none;">Conventions d'Angles</h1>
                </div>
                <div class="step-content">
                    <div class="lang-en">
                        <p class="lead">Understanding how Sports2D measures joint and segment angles.</p>
                        
                        <div class="params-section">
                            <h3>ü¶µ Joint Angles</h3>
                            
                            <div class="angle-item">
                                <h4>Ankle Dorsiflexion</h4>
                                <p><strong>Measured between:</strong> Heel ‚Üí Big toe, and Ankle ‚Üí Knee</p>
                                <p><strong>Reference:</strong> -90¬∞ when foot is aligned with the shank</p>
                                <p class="small-note">Positive = dorsiflexion (toes up), Negative = plantarflexion (toes down)</p>
                            </div>

                            <div class="angle-item">
                                <h4>Knee Flexion</h4>
                                <p><strong>Measured between:</strong> Hip ‚Üí Knee ‚Üí Ankle</p>
                                <p><strong>Reference:</strong> 0¬∞ when shank is aligned with thigh</p>
                                <p class="small-note">Positive = knee bent</p>
                            </div>

                            <div class="angle-item">
                                <h4>Hip Flexion</h4>
                                <p><strong>Measured between:</strong> Knee ‚Üí Hip ‚Üí Shoulder</p>
                                <p><strong>Reference:</strong> 0¬∞ when trunk is aligned with thigh</p>
                                <p class="small-note">Positive = thigh moving forward</p>
                            </div>

                            <div class="angle-item">
                                <h4>Shoulder Flexion</h4>
                                <p><strong>Measured between:</strong> Hip ‚Üí Shoulder ‚Üí Elbow</p>
                                <p><strong>Reference:</strong> 180¬∞ when arm is aligned with trunk</p>
                                <p class="small-note">Less than 180¬∞ = arm moving forward</p>
                            </div>

                            <div class="angle-item">
                                <h4>Elbow Flexion</h4>
                                <p><strong>Measured between:</strong> Wrist ‚Üí Elbow ‚Üí Shoulder</p>
                                <p><strong>Reference:</strong> 0¬∞ when forearm is aligned with arm</p>
                                <p class="small-note">Positive = elbow bent</p>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üìè Segment Angles</h3>
                            <p>Measured <strong>anticlockwise</strong> from horizontal (0¬∞ = right, 90¬∞ = up, 180¬∞ = left, 270¬∞ = down)</p>
                            
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Segment</th>
                                        <th>Measured Between</th>
                                    </tr>
                                    <tr>
                                        <td><strong>Foot</strong></td>
                                        <td>Heel ‚Üí Big toe</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Shank</strong></td>
                                        <td>Ankle ‚Üí Knee</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Thigh</strong></td>
                                        <td>Hip ‚Üí Knee</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Pelvis</strong></td>
                                        <td>Left hip ‚Üí Right hip</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Trunk</strong></td>
                                        <td>Hip midpoint ‚Üí Shoulder midpoint</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Shoulders</strong></td>
                                        <td>Left shoulder ‚Üí Right shoulder</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Head</strong></td>
                                        <td>Neck ‚Üí Top of head</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Arm</strong></td>
                                        <td>Shoulder ‚Üí Elbow</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Forearm</strong></td>
                                        <td>Elbow ‚Üí Wrist</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üé® Customization</h4>
                            <p>Select specific angles to calculate:</p>
                            <div class="code-block">
                                <code>sports2d --joint_angles "right knee" "left knee" \
  --segment_angles "right thigh" "left thigh"</code>
                            </div>
                            <p>Or disable angle calculation entirely:</p>
                            <div class="code-block">
                                <code>sports2d --calculate_angles false</code>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Left/Right Flipping</h4>
                            <p>By default (<code>--flip_left_right true</code>), angles flip when person switches direction. Person is considered to look right if toe keypoint is to the right of heel.</p>
                            <p class="small-note">May not work correctly during sprinting. Set to <code>false</code> if you want timeseries to be continuous even when participant switches stance.</p>
                        </div>

                        <div class="info-box">
                            <h4>üìê Segment Angle Correction</h4>
                            <p>By default (<code>--correct_segment_angles_with_floor_angle true</code>), segment angles are corrected for camera tilt using detected floor angle.</p>
                            <p class="small-note">Set to <code>false</code> if it is actually the floor which is tilted, not the camera.</p>
                        </div>
                    </div>

                    <div class="lang-fr" style="display:none;">
                        <p class="lead">Comprendre comment Sports2D mesure les angles articulaires et segmentaires.</p>
                        
                        <div class="params-section">
                            <h3>ü¶µ Angles Articulaires</h3>
                            
                            <div class="angle-item">
                                <h4>Dorsiflexion de la Cheville</h4>
                                <p><strong>Mesur√© entre :</strong> Talon ‚Üí Gros orteil, et Cheville ‚Üí Genou</p>
                                <p><strong>R√©f√©rence :</strong> -90¬∞ quand le pied est align√© avec la jambe</p>
                                <p class="small-note">Positif = dorsiflexion (orteils vers le haut), N√©gatif = flexion plantaire (orteils vers le bas)</p>
                            </div>

                            <div class="angle-item">
                                <h4>Flexion du Genou</h4>
                                <p><strong>Mesur√© entre :</strong> Hanche ‚Üí Genou ‚Üí Cheville</p>
                                <p><strong>R√©f√©rence :</strong> 0¬∞ quand la jambe est align√©e avec la cuisse</p>
                                <p class="small-note">Positif = genou pli√©</p>
                            </div>

                            <div class="angle-item">
                                <h4>Flexion de la Hanche</h4>
                                <p><strong>Mesur√© entre :</strong> Genou ‚Üí Hanche ‚Üí √âpaule</p>
                                <p><strong>R√©f√©rence :</strong> 0¬∞ quand le tronc est align√© avec la cuisse</p>
                                <p class="small-note">Positif = cuisse se d√©pla√ßant vers l'avant</p>
                            </div>

                            <div class="angle-item">
                                <h4>Flexion de l'√âpaule</h4>
                                <p><strong>Mesur√© entre :</strong> Hanche ‚Üí √âpaule ‚Üí Coude</p>
                                <p><strong>R√©f√©rence :</strong> 180¬∞ quand le bras est align√© avec le tronc</p>
                                <p class="small-note">Moins de 180¬∞ = bras se d√©pla√ßant vers l'avant</p>
                            </div>

                            <div class="angle-item">
                                <h4>Flexion du Coude</h4>
                                <p><strong>Mesur√© entre :</strong> Poignet ‚Üí Coude ‚Üí √âpaule</p>
                                <p><strong>R√©f√©rence :</strong> 0¬∞ quand l'avant-bras est align√© avec le bras</p>
                                <p class="small-note">Positif = coude pli√©</p>
                            </div>
                        </div>

                        <div class="params-section">
                            <h3>üìè Angles Segmentaires</h3>
                            <p>Mesur√©s <strong>dans le sens antihoraire</strong> depuis l'horizontale (0¬∞ = droite, 90¬∞ = haut, 180¬∞ = gauche, 270¬∞ = bas)</p>
                            
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Segment</th>
                                        <th>Mesur√© Entre</th>
                                    </tr>
                                    <tr>
                                        <td><strong>Pied</strong></td>
                                        <td>Talon ‚Üí Gros orteil</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Jambe</strong></td>
                                        <td>Cheville ‚Üí Genou</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Cuisse</strong></td>
                                        <td>Hanche ‚Üí Genou</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Bassin</strong></td>
                                        <td>Hanche gauche ‚Üí Hanche droite</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Tronc</strong></td>
                                        <td>Point m√©dian hanche ‚Üí Point m√©dian √©paule</td>
                                    </tr>
                                    <tr>
                                        <td><strong>√âpaules</strong></td>
                                        <td>√âpaule gauche ‚Üí √âpaule droite</td>
                                    </tr>
                                    <tr>
                                        <td><strong>T√™te</strong></td>
                                        <td>Cou ‚Üí Haut de la t√™te</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Bras</strong></td>
                                        <td>√âpaule ‚Üí Coude</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Avant-bras</strong></td>
                                        <td>Coude ‚Üí Poignet</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>üé® Personnalisation</h4>
                            <p>S√©lectionner des angles sp√©cifiques √† calculer :</p>
                            <div class="code-block">
                                <code>sports2d --joint_angles "right knee" "left knee" \
  --segment_angles "right thigh" "left thigh"</code>
                            </div>
                            <p>Ou d√©sactiver compl√®tement le calcul d'angle :</p>
                            <div class="code-block">
                                <code>sports2d --calculate_angles false</code>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>‚ö†Ô∏è Basculement Gauche/Droite</h4>
                            <p>Par d√©faut (<code>--flip_left_right true</code>), les angles basculent quand la personne change de direction. La personne est consid√©r√©e regarder √† droite si le point cl√© de l'orteil est √† droite du talon.</p>
                            <p class="small-note">Peut ne pas fonctionner correctement lors du sprint. D√©finir sur <code>false</code> si vous voulez que les s√©ries chronologiques soient continues m√™me quand le participant change de position.</p>
                        </div>

                        <div class="info-box">
                            <h4>üìê Correction d'Angle Segmentaire</h4>
                            <p>Par d√©faut (<code>--correct_segment_angles_with_floor_angle true</code>), les angles segmentaires sont corrig√©s pour l'inclinaison de la cam√©ra en utilisant l'angle du sol d√©tect√©.</p>
                            <p class="small-note">D√©finir sur <code>false</code> si c'est en fait le sol qui est inclin√©, pas la cam√©ra.</p>
                        </div>
                    </div>
                </div>
            </section>

        </div>

        <!-- Navigation Buttons -->
        <div class="nav-buttons">
            <button class="btn btn-secondary" onclick="previousStep()" id="prevBtn" style="display:none;">
                <span class="lang-en">‚Üê Previous</span>
                <span class="lang-fr" style="display:none;">‚Üê Pr√©c√©dent</span>
            </button>
            <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">
                <span class="lang-en">Next ‚Üí</span>
                <span class="lang-fr" style="display:none;">Suivant ‚Üí</span>
            </button>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="lang-en">
                    <p>Sports2D Documentation ‚Ä¢ <a href="https://github.com/davidpagnon/Sports2D" target="_blank">GitHub</a> ‚Ä¢ <a href="https://joss.theoj.org/papers/10.21105/joss.06849" target="_blank">Cite</a></p>
                    <p>Website created by AYL with ‚ù§Ô∏è for the Sports2D community</p>
                </div>
                <div class="lang-fr" style="display:none;">
                    <p>Documentation Sports2D ‚Ä¢ <a href="https://github.com/davidpagnon/Sports2D" target="_blank">GitHub</a> ‚Ä¢ <a href="https://joss.theoj.org/papers/10.21105/joss.06849" target="_blank">Citer</a></p>
                    <p>Site cr√©√© par AYL avec ‚ù§Ô∏è pour la communaut√© Sports2D</p>
                </div>
            </div>
        </footer>
    </main>

    <script src="script.js"></script>
</body>
</html>